var m=Object.defineProperty;var x=(i,e,a)=>e in i?m(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a;var c=(i,e,a)=>x(i,typeof e!="symbol"?e+"":e,a);import{r as g,j as n}from"./index-CCfRSI51.js";import{a as r,p as l}from"./p5.min-bhQu8-o2.js";import{S as p}from"./index-CVMK8dIV.js";import{C as u,r as f}from"./CanvasFrame-Did-wqxf.js";class v{constructor(e,a,t){c(this,"p");c(this,"v");c(this,"a");c(this,"maxSpeed");c(this,"maxForce");c(this,"r");c(this,"gravity");c(this,"p5");this.p=new r.Vector(e,a),this.v=r.Vector.random2D(),this.a=new r.Vector,this.maxSpeed=4,this.maxForce=.04,this.r=20,this.gravity=new r.Vector,this.p5=t}edges(){this.p.x>this.p5.width?this.p.x=0:this.p.y>this.p5.height?this.p.y=0:this.p.y<0?this.p.y=this.p5.height:this.p.x<0&&(this.p.x=this.p5.width)}update(){this.p.add(this.v),this.v.add(this.a),this.v.limit(this.maxSpeed),this.a.limit(this.maxForce)}follow(e,a){const t=new r.Vector(e,a),o=r.Vector.sub(t,this.p);o.setMag(this.maxSpeed),o.sub(this.v),o.limit(this.maxForce),this.a.add(o)}separation(e){const t=new r.Vector;let o=0;for(const s of e){const h=this.p5.dist(this.p.x,this.p.y,s.p.x,s.p.y);if(s!=this&&h<100){const d=r.Vector.sub(this.p,s.p);d.div(h*h),t.add(d),o++}}return o>0&&(t.div(o),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}align(e){const t=new r.Vector;let o=0;for(const s of e){const h=r.prototype.dist(this.p.x,this.p.y,s.p.x,s.p.y);s!=this&&h<100&&(t.add(s.v),o++)}return o>0&&(t.div(o),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}cohesion(e){const t=new r.Vector;let o=0;for(const s of e){const h=r.prototype.dist(this.p.x,this.p.y,s.p.x,s.p.y);s!=this&&h<50&&(t.add(s.p),o++)}return o>0&&(t.div(o),t.sub(this.p),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}flock(e,a,t,o){const s=this.align(e),h=this.cohesion(e),d=this.separation(e);s.mult(a),h.mult(t),d.mult(o),this.a.add(s),this.a.add(h),this.a.add(d),this.a.add(this.gravity)}show(){this.p5.push(),this.p5.colorMode(r.prototype.HSB);const e=this.v.heading(),a=r.prototype.map(this.v.mag(),0,this.maxSpeed,0,360);this.p5.stroke(a,255,255);const t=r.Vector.fromAngle(e);t.setMag(this.v.mag()*2.5),this.p5.translate(this.p.x,this.p.y),this.p5.strokeWeight(3),this.p5.line(t.x,t.y,0,0),this.p5.pop()}}function y(i){const e=[];let a=0,t=0,o=0;i.setup=()=>{i.createCanvas(innerWidth*.5,innerHeight*.5);for(let s=0;s<200;s++)e.push(new v(l.prototype.random(i.width),l.prototype.random(i.height),i))},i.updateWithProps=({a:s,c:h,s:d})=>{a=s,t=h,o=d},i.windowResized=()=>{innerWidth<786?i.resizeCanvas(innerWidth*.8,innerHeight*.5):i.resizeCanvas(innerWidth*.5,innerHeight*.5)},i.draw=()=>{i.background(0),i.textAlign(l.prototype.CENTER),i.textSize(20),i.fill(255),i.noStroke();for(const s of e)s.flock(e,a,t,o),s.update(),s.show(),s.edges()}}const j=()=>{const[i,e]=g.useState({a:5,c:2,s:5}),a=[{backgroundColor:"#ec4899"},{backgroundColor:"rgba(255,255,255,0.12)"}],t=[{backgroundColor:"#0f172a"},{backgroundColor:"#22d3ee"}];return n.jsxs("div",{className:"flex flex-col gap-8",children:[n.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-md",children:n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Alignment: ",i.a]}),n.jsx(p,{min:0,max:10,defaultValue:5,step:.1,onChange:o=>e(s=>({...s,a:o})),trackStyle:a,handleStyle:t,railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Cohesion: ",i.c]}),n.jsx(p,{min:0,max:10,defaultValue:8,step:.1,onChange:o=>e(s=>({...s,c:o})),trackStyle:a,handleStyle:t,railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Separation: ",i.s]}),n.jsx(p,{min:0,max:10,defaultValue:5,step:.1,onChange:o=>e(s=>({...s,s:o})),trackStyle:a,handleStyle:t,railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]})]})}),n.jsx(u,{className:"mx-auto",children:n.jsx(f,{sketch:y,a:i.a,c:i.c,s:i.s})})]})};export{j as default};
