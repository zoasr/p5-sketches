var x=Object.defineProperty;var b=(t,s,e)=>s in t?x(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var o=(t,s,e)=>b(t,typeof s!="symbol"?s+"":s,e);import{r as f,j as r}from"./index-D29X56GZ.js";import{g as m,I as k,r as v}from"./InteractiveCanvasFrame-DukYkY40.js";import{p as u}from"./p5.min-BFlUKbsV.js";import{S as w}from"./index-BcTbYdpC.js";class c{constructor(s,e,i,l){o(this,"a");o(this,"b");o(this,"angle");o(this,"p");this.a=s.copy(),this.b=e.copy(),this.angle=i,this.p=l}show(){this.p.stroke(100,200,34),this.p.strokeWeight(2),this.p.line(this.a.x,this.a.y,this.b.x,this.b.y),this.p.strokeWeight(3),this.p.point(this.a.x,this.a.y),this.p.point(this.b.x,this.b.y)}start(){return this.a.copy()}end(){return this.b.copy()}left(){const s=u.Vector.sub(this.b,this.a);return s.div(3),s.add(this.a),s}right(){const s=u.Vector.sub(this.a,this.b);return s.div(3),s.add(this.b),s}middle(){const s=u.Vector.sub(this.b,this.a);s.copy().div(2),s.div(3);const i=this.a.copy();return i.add(s),s.rotate(-u.prototype.radians(this.angle)),i.add(s),i}}class g{constructor(s,e,i,l,n){o(this,"start");o(this,"end");o(this,"a");o(this,"lines",[]);o(this,"count",0);o(this,"p");this.start=n.createVector(s,e),this.end=n.createVector(s+i,e),this.a=l,this.lines=[],this.count=0,this.p=n,this.lines.push(new c(this.start,this.end,this.a,this.p))}nextLevel(){this.lines=this.iterate(this.lines),this.count++}restart(){this.count=0,this.lines=[],this.lines.push(new c(this.start,this.end,this.a,this.p))}getCount(){return this.count}updateAngle(s){this.a=s}show(){for(const s of this.lines)s.show()}iterate(s){const e=[];for(const i of s){const l=i.start(),n=i.left(),a=i.middle(),h=i.right(),d=i.end();e.push(new c(l,n,this.a,this.p)),e.push(new c(n,a,this.a,this.p)),e.push(new c(a,h,this.a,this.p)),e.push(new c(h,d,this.a,this.p))}return e}}function C(t){let s,e,i=30,l=0;t.updateWithProps=a=>{i=a==null?void 0:a.rotation,l=a==null?void 0:a.iterations,n(2)},t.setup=()=>{const{width:a,height:h}=m();t.createCanvas(a,h),s=new g(t.width/2-t.width/4,t.height/2,t.width/2,i,t),e=new g(t.width/2-t.width/4,t.height/2,t.width/2,360-i,t),t.noLoop(),n(1)},t.windowResized=()=>{const{width:a,height:h}=m();s=new g(t.width/2-t.width/4,t.height/2,t.width/2,i,t),e=new g(t.width/2-t.width/4,t.height/2,t.width/2,360-i,t),t.resizeCanvas(a,h),n(1)};const n=a=>{for(let h=0;h<a;h++){t.background(0,51,12),t.push(),t.strokeWeight(0),t.fill(100,200,34),t.pop();for(let d=0;d<l;d++)s.nextLevel(),e.nextLevel(),s.updateAngle(i),e.updateAngle(360-i);s.show(),e.show(),s.restart(),e.restart()}}}const V=()=>{const[t,s]=f.useState({rotation:30,iterations:3});return r.jsxs("div",{className:"flex flex-col gap-8",children:[r.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-md",children:r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Angle: ",t.rotation]}),r.jsx(w,{min:0,max:180,defaultValue:30,step:.1,marks:{30:"30째",60:"60째",90:"90째",180:"180째"},onChange:e=>s(i=>({...i,rotation:e})),trackStyle:[{backgroundColor:"#a3e635"},{backgroundColor:"rgba(255,255,255,0.12)"}],handleStyle:[{backgroundColor:"#0f172a"},{backgroundColor:"#22d3ee"}],railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Iterations: ",t.iterations]}),r.jsx(w,{min:1,max:5,defaultValue:3,step:1,marks:{1:"1",2:"2",3:"3",4:"4",5:"5"},onChange:e=>s(i=>({...i,iterations:e})),trackStyle:[{backgroundColor:"#a855f7"},{backgroundColor:"rgba(255,255,255,0.12)"}],handleStyle:[{backgroundColor:"#0f172a"},{backgroundColor:"#ec4899"}],railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]})]})}),r.jsx(k,{className:"mx-auto",children:r.jsx(v,{sketch:C,rotation:t.rotation,iterations:t.iterations})})]})};export{V as default};
