var b=Object.defineProperty;var y=(t,e,s)=>e in t?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var l=(t,e,s)=>y(t,typeof e!="symbol"?e+"":e,s);import{r as k,u as C,j as r}from"./index-JsyTQwZY.js";import{r as j}from"./react-hPNd4b2e.js";import{p as w,F as v}from"./index.esm-CZTwzyl5.js";import{S as f}from"./index-VgEbzcSh.js";class c{constructor(e,s,i,n){l(this,"a");l(this,"b");l(this,"angle");l(this,"p");this.a=e.copy(),this.b=s.copy(),this.angle=i,this.p=n}show(){this.p.stroke(100,200,34),this.p.strokeWeight(2),this.p.line(this.a.x,this.a.y,this.b.x,this.b.y),this.p.strokeWeight(3),this.p.point(this.a.x,this.a.y),this.p.point(this.b.x,this.b.y)}start(){return this.a.copy()}end(){return this.b.copy()}left(){let e=w.Vector.sub(this.b,this.a);return e.div(3),e.add(this.a),e}right(){let e=w.Vector.sub(this.a,this.b);return e.div(3),e.add(this.b),e}middle(){let e=w.Vector.sub(this.b,this.a);e.copy().div(2),e.div(3);let i=this.a.copy();return i.add(e),e.rotate(-w.prototype.radians(this.angle)),i.add(e),i}}class g{constructor(e,s,i,n,a){l(this,"start");l(this,"end");l(this,"a");l(this,"lines",[]);l(this,"count",0);l(this,"p");this.start=a.createVector(e,s),this.end=a.createVector(e+i,s),this.a=n,this.lines=[],this.count=0,this.p=a,this.lines.push(new c(this.start,this.end,this.a,this.p))}nextLevel(){this.lines=this.iterate(this.lines),this.count++}restart(){this.count=0,this.lines=[],this.lines.push(new c(this.start,this.end,this.a,this.p))}getCount(){return this.count}updateAngle(e){this.a=e}show(){for(let e of this.lines)e.show()}iterate(e){let s=[];for(let i of e){let n=i.start(),a=i.left(),h=i.middle(),d=i.right(),u=i.end();s.push(new c(n,a,this.a,this.p)),s.push(new c(a,h,this.a,this.p)),s.push(new c(h,d,this.a,this.p)),s.push(new c(d,u,this.a,this.p))}return s}}function S(t){let e,s,i=30,n=0;const a=document.getElementById("canvas-wrapper");let h,d;if(a){const o=window.getComputedStyle(a,null);h=a==null?void 0:a.clientWidth,h-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),d=a==null?void 0:a.clientHeight,d-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)}t.updateWithProps=o=>{i=o==null?void 0:o.rotation,n=o==null?void 0:o.iterations,u(2)},t.setup=()=>{t.createCanvas(h,d),e=new g(t.width/2-t.width/4,t.height/2,t.width/2,i,t),s=new g(t.width/2-t.width/4,t.height/2,t.width/2,360-i,t),t.noLoop(),u(1)},t.windowResized=()=>{if(a){const o=window.getComputedStyle(a,null);h=a==null?void 0:a.clientWidth,h-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),d=a==null?void 0:a.clientHeight,d-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)}e=new g(t.width/2-t.width/4,t.height/2,t.width/2,i,t),s=new g(t.width/2-t.width/4,t.height/2,t.width/2,360-i,t),t.resizeCanvas(h,d),u(1)};const u=o=>{for(let m=0;m<o;m++){t.background(0,51,12),t.push(),t.strokeWeight(0),t.fill(100,200,34),t.pop();for(let p=0;p<n;p++)e.nextLevel(),s.nextLevel(),e.updateAngle(i),s.updateAngle(360-i);e.show(),s.show(),e.restart(),s.restart()}}}const F="_canvasWrapper_1sp7p_1",N="_header_1sp7p_12",x={canvasWrapper:F,header:N},W=()=>{const[t,e]=k.useState({rotation:30,iterations:3}),s=C();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:x.header,children:[r.jsxs("div",{className:"my-6 w-full sm:w-1/3",children:[r.jsxs("p",{className:"whitespace-nowrap",children:["Angle: ",t.rotation]}),r.jsx(f,{min:0,max:180,defaultValue:30,step:.1,marks:{30:"30째",60:"60째",90:"90째",180:"180째 (Max)"},onChange:i=>e(n=>({...n,rotation:i})),trackStyle:[{backgroundColor:"#53af1e"},{backgroundColor:"black"}],handleStyle:[{backgroundColor:"#00a525"},{backgroundColor:"#005914"}],railStyle:{backgroundColor:"white"}})]}),r.jsxs("div",{className:"my-6 w-full sm:w-1/3",children:[r.jsxs("p",{className:"whitespace-nowrap",children:["No. of iterations: ",t.iterations]}),r.jsx(f,{min:1,max:5,defaultValue:3,step:1,marks:{1:"1",2:"2",3:"3",4:"4",5:"5"},onChange:i=>e(n=>({...n,iterations:i})),trackStyle:[{backgroundColor:"#53af1e"},{backgroundColor:"black"}],handleStyle:[{backgroundColor:"#00a525"},{backgroundColor:"#005914"}],railStyle:{backgroundColor:"white"}})]})]}),r.jsx("div",{className:x.canvasWrapper,id:"canvas-wrapper",children:r.jsx(j,{sketch:S,rotation:t==null?void 0:t.rotation,iterations:t==null?void 0:t.iterations})}),r.jsx("div",{className:"w-max mx-auto flex justify-center  h-max underline hover:font-extrabold transition-all duration-150",children:r.jsxs("a",{className:"flex",href:s.state.sourceCode,target:"_blank",children:[r.jsx("p",{children:"View source code"}),r.jsx("span",{className:"w-2"}),r.jsx(v,{})]})})]})};export{W as default};
