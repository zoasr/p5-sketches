var d=Object.defineProperty;var p=(s,t,e)=>t in s?d(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var r=(s,t,e)=>p(s,typeof t!="symbol"?t+"":t,e);import{u as f,j as o}from"./index-JsyTQwZY.js";import{r as x}from"./react-hPNd4b2e.js";import{p as c,F as u}from"./index.esm-CZTwzyl5.js";class v{constructor(t,e){r(this,"pos");r(this,"vel");r(this,"acc");r(this,"prevPos");r(this,"p");r(this,"scale");r(this,"cols");this.pos=new c.Vector(Math.random()*t.width,Math.random()*t.height),this.vel=new c.Vector,this.acc=new c.Vector,this.prevPos=this.pos.copy(),this.p=t,this.scale=e,this.cols=this.p.width/e}show(){const t=this.p.map(this.pos.x,0,this.p.width,0,255),e=this.p.map(this.acc.mag(),0,.5,0,255),a=this.p.map(this.vel.y,-2,2,255,0);this.p.stroke(t,e,a,50),this.p.strokeWeight(1),this.p.line(this.prevPos.x,this.prevPos.y,this.pos.x,this.pos.y),this.updatePrev()}updatePrev(){this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y}update(){this.vel.add(this.acc),this.vel.limit(2),this.pos.add(this.vel),this.acc.mult(0)}follow(t){const e=Math.floor(this.pos.x/this.scale),a=Math.floor(this.pos.y/this.scale),i=e+a*this.cols,n=t[i];if(n){const h=n.vector;this.acc.add(h)}}edges(){this.pos.x>this.p.width&&(this.pos.x=0,this.updatePrev()),this.pos.x<0&&(this.pos.x=this.p.width,this.updatePrev()),this.pos.y>this.p.height&&(this.pos.y=0,this.updatePrev()),this.pos.y<0&&(this.pos.y=this.p.height,this.updatePrev())}}function m(s){const t=[];let a=[];s.setup=()=>{innerWidth<=786?s.createCanvas(innerWidth*.8,innerHeight*.7):s.createCanvas(innerWidth*.5,innerHeight*.7);for(let h=0;h<1e3;h++)t.push(new v(s,5));let i=0,n=0;for(let h=0;h<s.height/5;h++){n+=.1;for(let l=0;l<s.width/5;l++)i+=.1,a.push({vector:c.Vector.fromAngle(s.noise(i,n)*c.prototype.TWO_PI*5).setMag(.2),x:l*5,y:h*5})}s.background(0)},s.windowResized=()=>{innerWidth<=786?s.resizeCanvas(innerWidth*.8,innerHeight*.7):s.resizeCanvas(innerWidth*.5,innerHeight*.5)},s.draw=()=>{s.stroke(0);for(let i of t)i.show(),i.update(),i.edges(),i.follow(a)}}const j=()=>{const s=f();return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex flex-row justify-center ring-2 ring-black w-min rounded-2xl bg-black my-5 mx-auto overflow-hidden",children:o.jsx(x,{sketch:m})}),o.jsx("div",{className:"w-max mx-auto flex justify-center  h-max underline hover:font-extrabold transition-all duration-150",children:o.jsxs("a",{className:"flex",href:s.state.sourceCode,target:"_blank",children:[o.jsx("p",{children:"View source code"}),o.jsx("span",{className:"w-2"}),o.jsx(u,{})]})})]})};export{j as default};
