var p=Object.defineProperty;var d=(s,t,e)=>t in s?p(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var o=(s,t,e)=>d(s,typeof t!="symbol"?t+"":t,e);import{j as l}from"./index-BqIl9h71.js";import{C as f,r as v}from"./CanvasFrame-CX9p_V3T.js";import{p as c}from"./p5.min-zcQKoIZM.js";class x{constructor(t,e){o(this,"pos");o(this,"vel");o(this,"acc");o(this,"prevPos");o(this,"p");o(this,"scale");o(this,"cols");this.pos=new c.Vector(Math.random()*t.width,Math.random()*t.height),this.vel=new c.Vector,this.acc=new c.Vector,this.prevPos=this.pos.copy(),this.p=t,this.scale=e,this.cols=this.p.width/e}show(){const t=this.p.map(this.pos.x,0,this.p.width,0,255),e=this.p.map(this.acc.mag(),0,.5,0,255),r=this.p.map(this.vel.y,-2,2,255,0);this.p.stroke(t,e,r,50),this.p.strokeWeight(1),this.p.line(this.prevPos.x,this.prevPos.y,this.pos.x,this.pos.y),this.updatePrev()}updatePrev(){this.prevPos.x=this.pos.x,this.prevPos.y=this.pos.y}update(){this.vel.add(this.acc),this.vel.limit(2),this.pos.add(this.vel),this.acc.mult(0)}follow(t){const e=Math.floor(this.pos.x/this.scale),r=Math.floor(this.pos.y/this.scale),i=e+r*this.cols,a=t[i];if(a){const h=a.vector;this.acc.add(h)}}edges(){this.pos.x>this.p.width&&(this.pos.x=0,this.updatePrev()),this.pos.x<0&&(this.pos.x=this.p.width,this.updatePrev()),this.pos.y>this.p.height&&(this.pos.y=0,this.updatePrev()),this.pos.y<0&&(this.pos.y=this.p.height,this.updatePrev())}}function m(s){const t=[];let r=[];s.setup=()=>{innerWidth<=786?s.createCanvas(innerWidth*.8,innerHeight*.7):s.createCanvas(innerWidth*.5,innerHeight*.7);for(let h=0;h<1e3;h++)t.push(new x(s,5));let i=0,a=0;for(let h=0;h<s.height/5;h++){a+=.1;for(let n=0;n<s.width/5;n++)i+=.1,r.push({vector:c.Vector.fromAngle(s.noise(i,a)*c.prototype.TWO_PI*5).setMag(.2),x:n*5,y:h*5})}s.background(0)},s.windowResized=()=>{innerWidth<=786?s.resizeCanvas(innerWidth*.8,innerHeight*.7):s.resizeCanvas(innerWidth*.5,innerHeight*.5)},s.draw=()=>{s.stroke(0);for(let i of t)i.show(),i.update(),i.edges(),i.follow(r)}}const P=()=>l.jsx("div",{className:"flex flex-col gap-8",children:l.jsx(f,{className:"mx-auto my-4",children:l.jsx(v,{sketch:m})})});export{P as default};
