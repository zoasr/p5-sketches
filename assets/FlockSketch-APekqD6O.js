var x=Object.defineProperty;var g=(i,e,a)=>e in i?x(i,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[e]=a;var d=(i,e,a)=>g(i,typeof e!="symbol"?e+"":e,a);import{r as u,j as n}from"./index-D29X56GZ.js";import{a as h,p}from"./p5.min-BFlUKbsV.js";import{g as m,I as f,r as v}from"./InteractiveCanvasFrame-DukYkY40.js";import{S as l}from"./index-BcTbYdpC.js";class y{constructor(e,a,t){d(this,"p");d(this,"v");d(this,"a");d(this,"maxSpeed");d(this,"maxForce");d(this,"r");d(this,"gravity");d(this,"p5");this.p=new h.Vector(e,a),this.v=h.Vector.random2D(),this.a=new h.Vector,this.maxSpeed=4,this.maxForce=.04,this.r=20,this.gravity=new h.Vector,this.p5=t}edges(){this.p.x>this.p5.width?this.p.x=0:this.p.y>this.p5.height?this.p.y=0:this.p.y<0?this.p.y=this.p5.height:this.p.x<0&&(this.p.x=this.p5.width)}update(){this.p.add(this.v),this.v.add(this.a),this.v.limit(this.maxSpeed),this.a.limit(this.maxForce)}follow(e,a){const t=new h.Vector(e,a),o=h.Vector.sub(t,this.p);o.setMag(this.maxSpeed),o.sub(this.v),o.limit(this.maxForce),this.a.add(o)}separation(e){const t=new h.Vector;let o=0;for(const s of e){const r=this.p5.dist(this.p.x,this.p.y,s.p.x,s.p.y);if(s!=this&&r<100){const c=h.Vector.sub(this.p,s.p);c.div(r*r),t.add(c),o++}}return o>0&&(t.div(o),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}align(e){const t=new h.Vector;let o=0;for(const s of e){const r=h.prototype.dist(this.p.x,this.p.y,s.p.x,s.p.y);s!=this&&r<100&&(t.add(s.v),o++)}return o>0&&(t.div(o),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}cohesion(e){const t=new h.Vector;let o=0;for(const s of e){const r=h.prototype.dist(this.p.x,this.p.y,s.p.x,s.p.y);s!=this&&r<50&&(t.add(s.p),o++)}return o>0&&(t.div(o),t.sub(this.p),t.setMag(this.maxSpeed),t.sub(this.v),t.limit(this.maxForce)),t}flock(e,a,t,o){const s=this.align(e),r=this.cohesion(e),c=this.separation(e);s.mult(a),r.mult(t),c.mult(o),this.a.add(s),this.a.add(r),this.a.add(c),this.a.add(this.gravity)}show(){this.p5.push(),this.p5.colorMode(h.prototype.HSB);const e=this.v.heading(),a=h.prototype.map(this.v.mag(),0,this.maxSpeed,0,360);this.p5.stroke(a,255,255);const t=h.Vector.fromAngle(e);t.setMag(this.v.mag()*2.5),this.p5.translate(this.p.x,this.p.y),this.p5.strokeWeight(3),this.p5.line(t.x,t.y,0,0),this.p5.pop()}}function w(i){const e=[];let a=0,t=0,o=0;i.setup=()=>{const{width:s,height:r}=m();i.createCanvas(s,r);for(let c=0;c<200;c++)e.push(new y(p.prototype.random(i.width),p.prototype.random(i.height),i))},i.updateWithProps=({a:s,c:r,s:c})=>{a=s,t=r,o=c},i.windowResized=()=>{const{width:s,height:r}=m();i.resizeCanvas(s,r)},i.draw=()=>{i.background(0),i.textAlign(p.prototype.CENTER),i.textSize(20),i.fill(255),i.noStroke();for(const s of e)s.flock(e,a,t,o),s.update(),s.show(),s.edges()}}const V=()=>{const[i,e]=u.useState({a:5,c:2,s:5}),a=[{backgroundColor:"#ec4899"},{backgroundColor:"rgba(255,255,255,0.12)"}],t=[{backgroundColor:"#0f172a"},{backgroundColor:"#22d3ee"}];return n.jsxs("div",{className:"flex flex-col gap-8",children:[n.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-md",children:n.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Alignment: ",i.a]}),n.jsx(l,{min:0,max:10,defaultValue:5,step:.1,onChange:o=>e(s=>({...s,a:o})),trackStyle:a,handleStyle:t,railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Cohesion: ",i.c]}),n.jsx(l,{min:0,max:10,defaultValue:8,step:.1,onChange:o=>e(s=>({...s,c:o})),trackStyle:a,handleStyle:t,railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]}),n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Separation: ",i.s]}),n.jsx(l,{min:0,max:10,defaultValue:5,step:.1,onChange:o=>e(s=>({...s,s:o})),trackStyle:a,handleStyle:t,railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]})]})}),n.jsx(f,{className:"mx-auto",children:n.jsx(v,{sketch:w,a:i.a,c:i.c,s:i.s})})]})};export{V as default};
