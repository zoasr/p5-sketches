var b=Object.defineProperty;var p=(t,e,i)=>e in t?b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var r=(t,e,i)=>p(t,typeof e!="symbol"?e+"":e,i);import{r as k,j as l}from"./index-BqIl9h71.js";import{C as y,r as C}from"./CanvasFrame-CX9p_V3T.js";import{p as g}from"./p5.min-zcQKoIZM.js";import{S as x}from"./index-Ca6BWK_Q.js";class c{constructor(e,i,s,d){r(this,"a");r(this,"b");r(this,"angle");r(this,"p");this.a=e.copy(),this.b=i.copy(),this.angle=s,this.p=d}show(){this.p.stroke(100,200,34),this.p.strokeWeight(2),this.p.line(this.a.x,this.a.y,this.b.x,this.b.y),this.p.strokeWeight(3),this.p.point(this.a.x,this.a.y),this.p.point(this.b.x,this.b.y)}start(){return this.a.copy()}end(){return this.b.copy()}left(){let e=g.Vector.sub(this.b,this.a);return e.div(3),e.add(this.a),e}right(){let e=g.Vector.sub(this.a,this.b);return e.div(3),e.add(this.b),e}middle(){let e=g.Vector.sub(this.b,this.a);e.copy().div(2),e.div(3);let s=this.a.copy();return s.add(e),e.rotate(-g.prototype.radians(this.angle)),s.add(e),s}}class m{constructor(e,i,s,d,a){r(this,"start");r(this,"end");r(this,"a");r(this,"lines",[]);r(this,"count",0);r(this,"p");this.start=a.createVector(e,i),this.end=a.createVector(e+s,i),this.a=d,this.lines=[],this.count=0,this.p=a,this.lines.push(new c(this.start,this.end,this.a,this.p))}nextLevel(){this.lines=this.iterate(this.lines),this.count++}restart(){this.count=0,this.lines=[],this.lines.push(new c(this.start,this.end,this.a,this.p))}getCount(){return this.count}updateAngle(e){this.a=e}show(){for(let e of this.lines)e.show()}iterate(e){let i=[];for(let s of e){let d=s.start(),a=s.left(),h=s.middle(),n=s.right(),u=s.end();i.push(new c(d,a,this.a,this.p)),i.push(new c(a,h,this.a,this.p)),i.push(new c(h,n,this.a,this.p)),i.push(new c(n,u,this.a,this.p))}return i}}function S(t){let e,i,s=30,d=0;const a=document.getElementById("canvas-wrapper");let h,n;if(a){const o=window.getComputedStyle(a,null);h=a==null?void 0:a.clientWidth,h-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),n=a==null?void 0:a.clientHeight,n-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)}t.updateWithProps=o=>{s=o==null?void 0:o.rotation,d=o==null?void 0:o.iterations,u(2)},t.setup=()=>{t.createCanvas(h,n),e=new m(t.width/2-t.width/4,t.height/2,t.width/2,s,t),i=new m(t.width/2-t.width/4,t.height/2,t.width/2,360-s,t),t.noLoop(),u(1)},t.windowResized=()=>{if(a){const o=window.getComputedStyle(a,null);h=a==null?void 0:a.clientWidth,h-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),n=a==null?void 0:a.clientHeight,n-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)}e=new m(t.width/2-t.width/4,t.height/2,t.width/2,s,t),i=new m(t.width/2-t.width/4,t.height/2,t.width/2,360-s,t),t.resizeCanvas(h,n),u(1)};const u=o=>{for(let w=0;w<o;w++){t.background(0,51,12),t.push(),t.strokeWeight(0),t.fill(100,200,34),t.pop();for(let f=0;f<d;f++)e.nextLevel(),i.nextLevel(),e.updateAngle(s),i.updateAngle(360-s);e.show(),i.show(),e.restart(),i.restart()}}}const V=()=>{const[t,e]=k.useState({rotation:30,iterations:3});return l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-md",children:l.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Angle: ",t.rotation]}),l.jsx(x,{min:0,max:180,defaultValue:30,step:.1,marks:{30:"30째",60:"60째",90:"90째",180:"180째"},onChange:i=>e(s=>({...s,rotation:i})),trackStyle:[{backgroundColor:"#a3e635"},{backgroundColor:"rgba(255,255,255,0.12)"}],handleStyle:[{backgroundColor:"#0f172a"},{backgroundColor:"#22d3ee"}],railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("p",{className:"text-sm font-medium text-white/80",children:["Iterations: ",t.iterations]}),l.jsx(x,{min:1,max:5,defaultValue:3,step:1,marks:{1:"1",2:"2",3:"3",4:"4",5:"5"},onChange:i=>e(s=>({...s,iterations:i})),trackStyle:[{backgroundColor:"#a855f7"},{backgroundColor:"rgba(255,255,255,0.12)"}],handleStyle:[{backgroundColor:"#0f172a"},{backgroundColor:"#ec4899"}],railStyle:{backgroundColor:"rgba(255,255,255,0.12)"}})]})]})}),l.jsx(y,{className:"mx-auto",children:l.jsx(C,{sketch:S,rotation:t.rotation,iterations:t.iterations})})]})};export{V as default};
